<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Dashboard</title></head>
<body style="background:#0b0b0b;color:#fff;font-family:Arial;display:flex;align-items:center;justify-content:center;height:100vh;">
<div id="status"><h2>Memeriksa akun...</h2></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

// === REPLACE with your Firebase config ===
const firebaseConfig = {
  apiKey: "REPLACE_API_KEY",
  authDomain: "REPLACE_AUTH_DOMAIN",
  projectId: "REPLACE_PROJECT_ID",
  storageBucket: "REPLACE_STORAGE_BUCKET",
  messagingSenderId: "REPLACE_MESSAGING_SENDER_ID",
  appId: "REPLACE_APP_ID"
};
// =========================================

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth, user => {
  if (!user) {
    window.location.href = '/login.html';
    return;
  }
  const email = user.email;
  const el = document.getElementById('status');
  el.innerHTML = '<h2>Selamat datang, ' + email + '</h2><p>Mengarahkan ke panel...</p>';
  // redirect based on email
  setTimeout(() => {
    if (email === 'masajie78car@gmail.com') {
      window.location.href = '/panel/mall/index.html';
    } else if (email === 'wijayaselalu8@gmail.com') {
      window.location.href = '/panel/jatinegara/index.html';
    } else {
      el.innerHTML = '<h2>Email tidak terdaftar pada panel.</h2>';
    }
  }, 800);
});
</script>
</body>
</html>
